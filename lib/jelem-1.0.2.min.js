(()=>{var t=0;function e(e,n){let l=n||"auto_"+t++;if("string"==typeof e)document.styleSheets[0].addRule("."+l,e);else for(let t in e)document.styleSheets[0].addRule("."+l+(!t||t.startsWith(":")?t:" "+t),e[t]);return l}let n={};function l(t,e,l,s){t="function"==typeof t?c(t):t;let o=n[e];o||(o={},n[e]=o,document.addEventListener(e,r,s)),o[t]=l}function r(t){let e=n[t.type];for(let n=t.srcElement;null!=n;n=n.parentElement){let l=$(n).attr("jclass");if(l){let r=e[l];r&&r($(n),t.type,t)}}}let s={},o=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout"];function c(t){let n=t.jclass;if(!n){n=crypto.randomUUID(),t.jclass=n;let r=new t;s[n]=r,r.css&&(r.cssclass=e(r.css()));for(let t of o)r[t]&&l(n,t,((t,e,l)=>u(n,t,e,l)))}return n}function u(t,e,n,l){let r=s[t];r[n]&&r[n](e,n,l)}function f(t,e){let n=Object.getOwnPropertyNames(e);for(let l of n)"constructor"!=l&&(t[l]=e[l]);(e=Object.getPrototypeOf(e))!=Object.prototype&&f(t,e)}$.fn.equals=function(t){if(!t||this.length!=t.length)return!1;for(var e=0;e<this.length;++e)if(this[e]!==t[e])return!1;return!0},$.fn.wrap=function(t){let e=t&&t.jclass||this.attr("jclass"),n=s[e];return n.wrap&&f(this,n.wrap().prototype),this},$.fn.querySelector=function(t){for(let e of this){let n=e.querySelector(t);if(n)return $(n)}return $()},$.fn.querySelectorAll=function(t){let e=[];for(let n of this)for(let l of n.querySelectorAll(t))e.push(l);return $(e)},window.createClass=e,window.bindClassHandler=l,window.createJelem=function(t,...e){let n=c(t),l=s[n],r=l.create(...e);return r.attr("jclass",n),r.addClass(l.cssclass),r},window.isJelem=function(t,e){return e.jclass&&t.attr("jclass")==e.jclass},window.getJelem=function(t,e){for(let n=$(t);n.length>0&&null!=n;n=n.parent()){let t=n.attr("jclass");if(t&&(!e||t==e.jclass))return n}}})();